<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "./mybatis-3-mapper.dtd">
<mapper namespace="ItripUser">
    <!-- 用户分页查询条件 -->
    <sql id="whereClauseGetItripUserPage">
        <where>
            <if test="search != null and search  != ''">
            </if>
            <if test="search_1 != null and search_1  != ''">

            </if>
            <if test="search_2 != null and search_2  != ''">

            </if>
        </where>
    </sql>

    <!-- 获取用户列表 -->
    <select id="getItripUserCount" resultType="java.lang.Integer">
        select count(*) from itrip_user as table1
        <include refid="whereClauseGetItripUserPage"></include>
    </select>

    <!-- 获取用户列表 分页-->
    <select id="getItripUserPage" resultType="cn.itrip.beans.pojo.ItripUser" parameterType="map">
        SELECT
                    id as id,
                    userCode as userCode,
                    userPassword as userPassword,
                    userType as userType,
                    flatID as flatID,
                    userName as userName,
                    weChat as weChat,
                    QQ as QQ,
                    weibo as weibo,
                    baidu as baidu,
                    creationDate as creationDate,
                    createdBy as createdBy,
                    modifyDate as modifyDate,
                    modifiedBy as modifiedBy
        FROM
        itrip_user table1
        <include refid="whereClauseGetItripUserPage"></include>
        order by table1.creationDate desc
    </select>
</mapper>